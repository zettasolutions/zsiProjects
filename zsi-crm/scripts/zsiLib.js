var ud="undefined",isUD=function(n){return typeof n===ud},zsi={__getTableObject:function(n){var i=zsi.__tableObjectsHistory,r={},t;if(n.attr("id"))for(t=0;t<i.length;t++)if(i[t].tableName.toLowerCase()===n.attr("id").toLowerCase()){r=i[t];break}return r.value},__initFormAdjust:function(){var n=$(".form-group .glyphicon-search");n.length>0&&($(document.body).css("margin-left","10px"),$(document.body).css("margin-right","10px"))},__initTabNavigation:function(){$(".nav-tabs li").each(function(){$(this).click(function(){var n,i,t;$(".nav-tabs li").removeClass("active");$(this).addClass("active");n=$(this).children("a")[0];$("#p_tab").val(n.id);i=".tab-pages";t=$(i+" #"+n.id);t.parent().children().each(function(){$(this).removeClass("active")});t.addClass("active")})})},__monitorAjaxResponse:function(){function n(){setTimeout(function(){typeof zsi_request_count!==ud&&zsi_request_count<=0&&(zsi.ShowHideProgressWindow(!1),zsi_request_count=0)},100)}$(document).ajaxStart(function(){});$(document).ajaxSend(function(n,t,i){var u,r;for(typeof zsi_request_count===ud&&(zsi_request_count=0),u=zsi.config.excludeAjaxWatch,r=0;r<u.length;r++)if(zsi.strExist(i.url,u[r]))return;zsi_request_count++;zsi.ShowHideProgressWindow(!0)});$(document).ajaxComplete(function(){typeof zsi_request_count!==ud&&(zsi_request_count--,zsi_request_count<=0&&n())});$(document).ajaxSuccess(function(){});$(document).ajaxError(function(t,i,r){var u=typeof zsi.config.errorUpdateURL!==ud?zsi.config.errorUpdateURL:"",e="No error URL found. Error not submitted.",o=0,f={};if(f.event=t,f.request=i,f.settings=r,n(),u&&zsi.strExist(r.url,u))return console.log("url: "+r.url),!1;if(typeof zsi.config.sqlConsoleName!==ud&&zsi.strExist(r.url,zsi.config.sqlConsoleName))return!1;i.responseText===""?(console.log("zsi.Ajax.Request Status = %cNo Data (warning!) %c, url: "+r.url,"color:orange;","color:#000;"),u===""?console.log(e):$.post(u,{p:"error_logs_upd @error_type='W' @error_msg='No Response Data' @page_url='"+escape(r.url)+"'"},function(){console.log("Warning submited.")})):(console.log("zsi.Ajax.Request Status = Failed %c, url: "+r.url,"color:red;","color:#000;"),console.log(f),r.retryCounter||(r.retryCounter=0),r.retryCounter++,r.retryCounter<=o&&setTimeout(function(){console.log("retry#:"+r.retryCounter);$.ajax(r)},1e3),r.retryCounter>o&&(console.log("retry limit is reached"),u===""?(console.log(e),zsi.ShowErrorWindow()):$.post(u,{p:"error_logs_upd @error_type='E',@error_msg='"+escape(i.responseText)+"',@page_url='"+escape(r.url)+"'"},function(){console.log("Error submited.");zsi.ShowErrorWindow()})))})},__setExtendedJqFunctions:function(){$.loadData=function(n){if(typeof zsi.config.getDataURL===ud){alert("zsi.config.getDataURL is not defined in AppStart JS.");return}var t={dataType:"json",cache:!1,success:n.onComplete};t.type=typeof n.type===ud?"POST":"GET";t.url=zsi.config.getDataURL;typeof n.data!==ud&&(t.data=JSON.stringify(n.data));$.ajax(t)};$.fn.addClickHighlight=function(){var n=this.find("tbody > tr");return n.unbind("click"),n.click(function(){n.removeClass("active");$(this).addClass("active")}),this};$.fn.center=function(){return this.css("position","fixed"),this.css("top",Math.max(0,($(window).height()-$(this).outerHeight())/2+$(window).scrollTop())+"px"),this.css("left",Math.max(0,($(window).width()-$(this).outerWidth())/2+$(window).scrollLeft())+"px"),this};$.fn.centerWidth=function(){return this.css("position","fixed"),this.css("left",Math.max(0,($(window).width()-$(this).outerWidth())/2+$(window).scrollLeft())+"px"),this};$.fn.checkValueExists=function(n){var t=this,i="zDataExist",u="data already exist",f=1500,e,r;isUD(n.keyInputDelay)||(f=n.keyInputDelay);$("."+i).remove();n.message&&(u=n.message);e='<div class="'+i+'">'+u+".<\/div>";$("body").append(e);r=$("."+i);isUD(n.isNotExistShow)&&(n.isNotExistShow=!1);typeof t.tmr===ud&&(t.tmr=null);this.on("keyup change",function(){var u=$(this),e;if($.trim(this.value)==="")return r.hide(),!1;e=$.trim(this.value);zsi.timer&&clearTimeout(zsi.timer);zsi.timer=setTimeout(function(){var o={left:u.offset().left,top:u.offset().top-r.innerHeight()-3,onHide:function(){if(u.val(""),!isUD(n.onHide))n.onHide(u.closest(".zRow"))}},h,f,s;if(n.time&&(o.time=n.time),n.isNotExistShow===!1&&t.length>0){for(h=t.index(u),f=0;f<t.length;f++)s=t[f],h!==f&&$.trim(s.value)!==""&&s.value.toLowerCase()===e.toLowerCase()&&$("."+i).css({"z-index":zsi.getHighestZindex()+1}).showAlert(o);u.removeClass("loadIconR")}if(!isUD(n.isCheckOnDb)&&n.isCheckOnDb==!1)return t;u.addClass("loadIconR");$.getJSON(base_url+"sql/exec?p="+(typeof n.procedureName!==ud?n.procedureName:"checkValueExists")+" @code='"+n.code+"',@colName='"+n.colName+"',@keyword='"+e+"'",function(t){u.removeClass("loadIconR");t.rows[0].isExists.toUpperCase()===(n.isNotExistShow?"N":"Y")&&$("."+i).css({"z-index":zsi.getHighestZindex()+1}).showAlert(o)})},f)})};$.fn.clearGrid=function(){var n=".zGridPanel";this.find(n).length>0?this.find(n+" .zRows #table").html(""):$(this).children("tbody").html("")};$.fn.clearSelect=function(n,t){var i=t?t:"";this.html(n?"<option>"+i+"<\/option>":i)};$.fn.createZoomCtrl=function(){var r;this.zmVal=1;var n=this,t=function(t){var i=.1,r=function(){return n.zmVal=t?n.zmVal+i:n.zmVal-i,n.zmVal};n.css({transform:"scale("+r()+")"})},i=this.parent();i.append('<div class="zoomCtrl"><button id="zoomIn" type="button" class="btn btn-default btn-sm" ><span class="glyphicon glyphicon-zoom-in" aria-hidden="true"> <\/span><\/button><button id="zoomOut" type="button" class="btn btn-default btn-sm" ><span class="glyphicon glyphicon-zoom-out" aria-hidden="true"><\/span><\/button><\/div>');r=i.find("#zoomIn,#zoomOut").click(function(){this.id.toLowerCase()==="zoomin"?t(!0):t(!1)})};$.fn.dataBind=function(){var t=arguments,n=t[0],i;return this.hasClass("zGrid")?$(this).dataBindGrid(n):(typeof t[0]=="string"&&(n={},n.url=zsi.config.baseURL+"selectoption/code/"+t[0],typeof t[1]!==ud&&(n.onComplete=t[1])),i=this,$.getJSON(n.url,function(t){var r={data:t.rows,selectedValue:n.selectedValue,isRequired:n.required,onComplete:n.onComplete,onChange:n.onChange};typeof n.text!==ud&&typeof n.value!==ud&&(r.text=n.text,r.value=n.value);i.fillSelect(r);n.isUniqueOptions===!0&&i.setUniqueOptions()}),this)};$.fn.dataBind2=function(){var i,u,f=this.attr("name")+"_ddl",r="#"+f,t,n,e;$("body").append('<select id="'+f+'" class="zDDList" size="15" ><\/select>');t=arguments;n=t[0];typeof t[0]=="string"&&(n={},n.url=zsi.config.baseURL+"selectoption/code/"+t[0],typeof t[1]!==ud&&(n.onComplete=t[1]));e=this;typeof n.url!==ud&&$.getJSON(n.url,function(t){var u={data:t.rows,selectedValue:n.selectedValue,isRequired:n.required,onComplete:n.onComplete},i;typeof n.text!==ud&&typeof n.value!==ud&&(u.text=n.text,u.value=n.value);i=15;t.rows.length<i+1&&(i=t.rows.length+1);$(r).attr({size:i}).fillSelect(u)});this.parent().find(".zDdlBtn").click(function(){var t=$(this).parent(),f,e,o;if(i=t.find(":hidden"),u=t.find("#text"),_select=$(r),_select.val(i.val()),typeof n.onClick!==ud)n.onClick($(this.parentNode),i,_select);_select.find("option").length>0&&(_select.css({display:"block",top:t.offset().top+t.innerHeight(),left:t.offset().left}).focus(),_select.outerWidth()<t.outerWidth()&&_select.css({width:t.outerWidth()}),f=_select.find('[value="'+i.val()+'"]'),f.length>0?(e=f.offset().top,o=_select.offset().top,_select.scrollTop(_select.scrollTop()+(e-o))):_select.scrollTop(0))});$(r).unbind().click(function(){var n=$(this);i.val(n.val());u.html(n.find("option:selected").text());n.css({display:"none"})}).keyup(function(n){var t=n.keyCode?n.keyCode:n.which;t=="13"&&$(this).css({display:"none"})});this.closest(".zGrid").on("wheel mouseup",function(n){var t=$(".zDDList");t.is(n.target)||t.has(n.target).length!==0||t.hide()});return this};$.fn.dataBindGrid=function(n){var ot,d,st,lt,s,l,g;this.arrowUp='<span class="arrow-up"><\/span>';this.arrowDown='<span class="arrow-down"><\/span>';this.arrows=this.arrowUp+this.arrowDown;this.clsPanelR=".right";this.clsPanelL=".left";this.setPageCtrl=function(n,t,i){for(var r=this,f=i.returnValue,e="",o,u=1;u<=f;u++)e+="<option value='"+u+"'>"+u+"<\/option>";o=r.find("#pageNo").html(e);r.find("#recordsNum").html(i.rows.length);r.find("#of").html("of "+f);o.change(function(){r.pageParams=",@pno="+this.value;r.params.url&&(r.params.url=r.url+r.pageParams+(typeof r.sortParams!==ud?r.sortParams:""));r.dataBindGrid(r.params)})};this.setColumnResize=function(){var n=this,t="group0",i="groupItem";if(isUD(n.params.resizable)||n.params.resizable!==!1){$(".zHeaders .item .cr").unbind("mousedown").on("mousedown",function(n){var r=$(n.target).parent(),u;r.hasClass(t)&&(u=r.find("."+i),r=$(u[u.length-1]));zsi.tableResize={curCol:r,curLastWidth:parseFloat(r.css("width")),hdrLastWidth:parseFloat(r.closest(".zHeaders").css("width")),tblLastWidth:parseFloat(r.closest(".zGridPanel").find("#table").css("width")),nextLastWidth:parseFloat(r.next().css("width")),lastX:n.clientX}});$(document).on("mousemove",function(r){var u,h,o,a,s,e,l;if(typeof zsi.tableResize!==ud&&zsi.tableResize!==null&&(u=zsi.tableResize,n.is(u.curCol.closest(".zGrid")))){if(h=-1,o=u.curCol.closest("."+t),o.length>0)for(a=o.parent(),s=a.find("."+i),e=0;e<s.length;e++)if(!$(s[e]).hasClass(t)&&(h++,u.curCol.is(s[e])))break;var c=o.length>0?h:u.curCol.index(),f=r.clientX-u.lastX,v=u.curCol.closest(".zGridPanel").find(".zRows").eq(0),y=n.params.dataRows,p=function(n){for(var i=[],t=0;t<n.length;t++)$(n[t]).closest(".zRows").is(v)&&i.push(n[t]);return $(i)};u.curLastWidth+f<25||(u.curCol.css({width:u.curLastWidth+f}),f>0&&u.curCol.closest(".zHeaders").css({width:u.hdrLastWidth+f}),l=p(v.find("#table > .zRow > .zCell:nth-child("+(c+1)+")")),l.css({width:u.curLastWidth+f}),l.parent().parent().css({width:u.tblLastWidth+f}),y[c]&&(y[c].width=u.curLastWidth+f))}}).on("mouseup",function(){zsi.tableResize=null})}};var t=this,r=n,nt=0,ht=0,h=0,tt=0,at=n.dataRows,y=[],p=[],u,e=[],o=!1,w=zsi.bs.ctrl,c=zsi.setValIfNull,it=function(){t.find("div[id='table']").html("")},rt=function(n){n.headers.length!==0&&(n.headers.html(ut(n.dataTable,n.startGroupId)),o&&n.headers.append("<div>&nbsp;<\/div"),n.headers.find(".item .zSort a").click(function(){var i=$(this),f=i.attr("sortColNo"),r=0,o=i.attr("class"),e;if(t.left=u.offset().left-h,t.find(".sPane").html(t.arrows),t.find(".zSort a").removeAttr("class"),i.addClass(o),typeof i.attr("class")===ud&&i.addClass("desc"),e=i.attr("class"),e.indexOf("asc")>-1?(i.removeClass("asc"),i.addClass("desc"),i.find(".sPane").html(t.arrowDown),r=1):(i.removeClass("desc"),i.addClass("asc"),i.find(".sPane").html(t.arrowUp),r=0),t.sortParams=",@col_no="+f+",@order_no="+r,t.params.url&&(t.params.url=t.url+t.sortParams+(typeof t.pageParams!==ud?t.pageParams:"")),n.onSortClick)n.onSortClick(f,r);else t.dataBindGrid(t.params)}),(o||n.width>r.width)&&n.headers.css("width",n.width+20+"px"),r.width&&n.table.css("width",n.width+1+"px"))},f=function(n){var e=n.panelType==="R"?y:p,v=n.panelType==="R"?t.find(t.clsPanelR).find("#table"):t.find(t.clsPanelL).find("#table"),f="",u,l;for(f+="<div rowObj class='zRow "+n.rowClass+"'>",u=0;u<e.length;u++){var s="",a="",b="",h="",k=n.data===null?" no-data ":"",i=e[u];n.data&&(n.data.td={},n.data.recordIndex=n.index);i.onRender?s=i.onRender(n.data):(s=typeof i.type===ud?"<span class='text'>"+c(n.data,i.name)+"<\/span>":typeof i.displayText!==ud?w({name:i.name,style:i.style,type:i.type,value:c(n.data,i.name,i.defaultValue),displayText:c(n.data,i.displayText)}):w({name:i.name,style:i.style,type:i.type,value:c(n.data,i.name,i.defaultValue)}),(u===0||u===r.selectorIndex)&&typeof r.selectorType!==ud&&(s+=n.data!==null?w({name:r.selectorType==="checkbox"?"cb":r.selectorType==="radio"?"rad":"ctrl",type:r.selectorType}):""));n.data&&(a=typeof n.data.td.attr===ud?"":" "+n.data.td.attr,h=typeof n.data.td.class===ud?"":" "+n.data.td.class,b=typeof n.data.td.style===ud?"":' style="'+n.data.td.style+'"');h+=typeof i.class!==ud?" "+i.class:"";((typeof i.groupId!==ud?i.groupId:0)>0||i.onRender||o===!1)&&(f+='<div class="zCell'+k+h+'"  '+a+' style="width:'+e[u].width+"px;"+e[u].style+'" >'+s+"<\/div>")}if(f+="<\/div>",n.panelType!=="R"||isUD(r.toggleMasterKey)||(f+='<div id="childPanel'+c(n.data,r.toggleMasterKey)+'" class="zExtraRow"><div class="zGrid"><\/div><\/div>'),v.append(f),l=$("div[rowObj]"),l.removeAttr("rowObj"),d)n.onEachComplete(l,data)},b=function(){var n=t.find(".zRow");n.click(function(){var i=$(this).index();n.removeClass("active");t.find(".zRow:nth-child("+(i+1)+")").addClass("active")})},a=function(){u.parent().scroll(function(){var n=u.offset().left,t=u.offset().top,i=$(u.closest(".right").find(".zHeaders")[0]),r=$(this).closest(".right").prev().find("#table");i.offset({left:n});r.offset({top:t})})},ut=function(t,i){var u=function(n,t){for(var i=0;i<n.length;i++)if(n[i].groupId===t)return!0;return!1},r=function(t,i){for(var u="",r=0;r<t.length;r++)if(typeof t[r].groupId===ud||t[r].groupId==i){var f=typeof t[r].sortColNo!==ud?!0:!1,y=f?15:0,e="",s="",h=typeof t[r].groupId!==ud?" group"+t[r].groupId:"",c=typeof t[r].class!==ud?" "+t[r].class:"",l=typeof t[r].id!==ud?'id="'+t[r].id+'"':"",a=typeof t[r].id!==ud?'id="title'+t[r].id+'"':"",v=o?" groupItem":"";typeof t[r].width!==ud&&(e='style="width:'+t[r].width+"px;"+t[r].style+'"',s='style="'+t[r].style+'"');u+="<div "+l+" class='item"+v+h+c+"' "+e+">";u+="<div "+a+" class='title"+(f?" hasSort":"")+"' "+s+' ><span class="text">'+t[r].text+"<\/span><\/div>";(isUD(n.resizable)||n.resizable===!0)&&(u+="<div class='cr'><\/div>");typeof t[r].groupId!==ud&&(u+=ut(t,t[r].id));u+=ct(t[r].sortColNo);u+="<\/div>"}return u};return r(t,i)},ct=function(n){return typeof n!==ud?'<div class="zSort"><a href="javascript:void(0);" sortColNo="'+n+'" ><span class="sPane">'+t.arrows+"<\/span><\/a><\/div>":""},ft=function(n){return typeof n.isFreeze===ud||n.isFreeze===!1?!1:!0},et=function(n){var t,i;if(typeof n.blankRowsLimit!==ud)for(t=0;t<n.blankRowsLimit;t++)i=zsi.getOddEven(),f({data:null,panelType:"L",rowClass:i,index:t}),f({data:null,panelType:"R",rowClass:i,index:t})};if($.each(n.dataRows,function(){(this.groupId>0||typeof this.groupId===ud)&&(typeof this.groupId!==ud&&o===!1&&(o=!0),e.push(this));ft(this)?p.push(this):y.push(this)}),typeof this.isInitiated===ud){ot="<div class=\"zPageFooter\"><div class='pagestatus'>Number of records in a current page : <i id='recordsNum'> 0 <\/i><\/div><div class='pagectrl'><label id='page'> Page <\/label> <select id='pageNo'><\/select><label id='of'> of 0 <\/label><\/div><\/div>";this.params=n;this.url=n.url;this.isInitiated=!0;this.html('<div class="zGridPanel left"><div class="zHeaders"><\/div><div class="zRows"><div id="table"  ><\/div><\/div><div class="zFooter"><\/div><\/div><\/div><div class="zGridPanel right"><div class="zHeaders"><\/div><div class="zRows"><div id="table"  ><\/div><\/div><div class="zFooter"><\/div><\/div><\/div>'+(typeof n.isPaging!==ud?n.isPaging===!0?ot:"":""));n.isAsync=typeof n.isAsync!==ud?n.isAsync:!1;t.curPageNo=n.isAsync===!0?1:0;var k=this.find(t.clsPanelR),v=this.find(t.clsPanelL),vt="top:"+(n.columnHeight/2-8)+"px;";for(i=0;i<e.length;i++)ht+=e[i].width,ft(e[i])?h+=e[i].width:tt+=e[i].width;typeof n.startGroupId===ud&&(n.startGroupId=0);u=k.find("#table");_tableLeft=v.find("#table");this.css("overflow","hidden").css("width",n.width+"px");t.find(".zRows").css("height",n.height+"px");v.css("width",h+"px");k.css("width",n.width-h-4+"px");rt({headers:v.find(".zHeaders"),table:_tableLeft,dataTable:p,width:h,startGroupId:n.startGroupId});rt({headers:k.find(".zHeaders"),table:u,dataTable:y,width:tt,startGroupId:n.startGroupId})}else v=this.find(".left").find("#table"),u=this.find(".right").find("#table");if(d=typeof n.onEachComplete!==ud,d&&(st=n.onEachComplete.toString(),args=st.replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s))/mg,"").match(/^function\s*[^\(]*\(\s*([^\)]*)\)/m)[1].split(/,/),lt="callback Function",args.length<1&&console.warn("you must implement these parameters: tr,data")),typeof n.isNew!==ud&&n.isNew===!0&&it(),n.url||n.data){if((n.isAsync&&t.curPageNo===1||!n.isAsync)&&it(),s={dataType:"json",cache:!1,success:function(i){var r=i.returnValue>0?i.returnValue:0;if(nt=i.rows.length,$.each(i.rows,function(n){var t=zsi.getOddEven();f({data:this,panelType:"L",rowClass:t,index:n});f({data:this,panelType:"R",rowClass:t,index:n})}),n.isAsync&&t.curPageNo<r){if(i.pageNo=t.curPageNo,n.onAsyncComplete)n.onAsyncComplete(i);t.curPageNo++;t.pageParams=",@pno="+t.curPageNo;t.params.url&&(t.params.url=t.url+t.pageParams+(typeof t.sortParams!==ud?t.sortParams:""));a();t.dataBindGrid(t.params)}else{if(et(n),b(),a(),t.find("#recordsNum").html(nt),typeof t.isPageInitiated===ud&&(t.setPageCtrl(n,n.url,i),t.isPageInitiated=!0),t.addClickHighlight(),t.left&&u.parent().scrollLeft(Math.abs(t.left)),n.isAsync&&n.onAsyncComplete){i.pageNo=t.curPageNo;n.onAsyncComplete(i)}if(n.onComplete)n.onComplete(i)}t.setColumnResize()}},typeof n.data!==ud){if(typeof zsi.config.getDataURL===ud){alert("zsi.config.getDataURL is not defined in AppStart JS.");return}s.url=zsi.config.getDataURL;s.data=JSON.stringify(n.data);s.type="POST"}else s.url=n.url;t.bind("refresh",function(){zsi.tmr&&clearTimeout(zsi.tmr);zsi.tmr=setTimeout(function(){t.dataBindGrid(n)},1)});$.ajax(s)}else if(typeof n.rows!==ud)$.each(n.rows,function(n){var t=zsi.getOddEven();f({data:this,panelType:"L",rowClass:t,index:n});f({data:this,panelType:"R",rowClass:t,index:n})}),et(n),b(),a(),t.addClickHighlight(),n.onComplete&&n.onComplete(),t.addClickHighlight(),t.setColumnResize();else{for(isUD(n.blankRowsLimit)&&(n.blankRowsLimit=5),l=0;l<n.blankRowsLimit;l++)g=zsi.getOddEven(),f({data:null,panelType:"L",rowClass:g,index:l}),f({data:null,panelType:"R",rowClass:g,index:l});b();a();n.onComplete&&n.onComplete();t.addClickHighlight();t.setColumnResize()}};$.fn.deleteData=function(n){for(var t="",u=this.find("input[name='cb']:checked"),r=u.getCheckBoxesValues(),i=0;i<r.length;i++)t!==""&&(t+="/"),t+=r[i];t!==""&&confirm("Are you sure you want to delete selected items?")&&$.post(base_url+"sql/exec?p=deleteData @pkey_ids='"+t+"',@table_code='"+n.code+"'",function(t){n.onComplete(t)}).fail(function(){alert("Sorry, the curent transaction is not successfull.")})};$.fn.expandCollapse=function(n){return this.click(function(){var u=this,r=$(this).find("span"),t,i;if(r.attr("class").indexOf("down")>-1?r.removeClass("glyphicon glyphicon-collapse-down").addClass("glyphicon glyphicon-collapse-up"):r.removeClass("glyphicon glyphicon-collapse-up").addClass("glyphicon glyphicon-collapse-down"),t=$(this.parentNode.parentNode),typeof t.attr("extrarow")===ud){t.attr("extrarow","1");t.after("<tr class='trOpen extraRow "+t.attr("class")+"'> <td colspan='"+t.find("td").length+"'> "+n.onInit(u)+" <\/td><\/tr>");n.onAfterInit(t.next())}else i=t.next(),i.attr("class").indexOf("trOpen")>-1?i.removeClass("trOpen").addClass("trClose"):i.removeClass("trClose").addClass("trOpen")}),this};$.fn.fillSelect=function(n){var t=this;return typeof n.isRequired===ud&&(n.isRequired=!1),typeof n.required!==ud&&(n.isRequired=n.required),typeof n.selectedValue===ud&&(n.selectedValue=""),this.clearSelect(),n.isRequired===!1&&t.append("<option><\/option>"),$.each(n.data,function(){var u=typeof this.value2===ud?"":' value2="'+this.value2+'"',i="",r="";typeof n.text!==ud&&typeof n.value!==ud?(r=this[n.value],i=this[n.text]):(r=this.value,i=this.text);t.append("<option "+u+' value="'+r+'">'+i+" <\/option>")}),$(this).change(function(){if(!isUD(n.onChange))n.onChange({index:$(this).find(":selected").index(),data:n.data,object:$(this),row:$(this).closest(".zRow")})}),setTimeout(function(){if($.each(t,function(){var t=$(this).attr("selectedvalue");$.each($(this).find("option"),function(){var i=!1;i=t?this.value===t:this.value===n.selectedValue;i&&$(this).prop("selected",!0)})}),n.onComplete)n.onComplete(n.data)},10),this};$.fn.getCheckBoxesValues=function(){var n=[];return this&&$.each(this,function(){n.push($(this.parentNode).children("input[type=hidden]").val())}),n};$.fn.jsonSubmit=function(n){var t={type:"POST",url:typeof n.url!==ud?n.url:base_url+"data/update",data:JSON.stringify(this.find(".left").length>0?this.toJSON2(n):this.toJSON(n)),contentType:"application/json"};typeof n.onError!="undefined"&&(t.error=n.onError);typeof n.onComplete!="undefined"&&(t.success=n.onComplete);$.ajax(t)};$.fn.loadData=function(n){var t=this,s,v,k,r,h,u,w,f,e,i,a;if(zsi.__setTableObjectsHistory(t,n),s=typeof n.onEachComplete!==ud,s&&(v=n.onEachComplete.toString(),args=v.replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s))/mg,"").match(/^function\s*[^\(]*\(\s*([^\)]*)\)/m)[1].split(/,/),k="callback Function",args.length<1&&console.warn("you must implement these parameters: tr,data")),typeof n.sortIndexes!==ud&&zsi.__getTableObject(t).isInitiated===!1){r=n.sortIndexes;h=t.find("thead th");h.length===0&&console.log("No THead found.");var c="<span class='arrow-up'><\/span>",y="<span class='arrow-down'><\/span>",p=c+y;for(u=0;u<r.length;u++)w=h[r[u]],$(w).append("<span class='zSort'><a href='javascript:void(0);'><span class='sPane'>"+p+"<\/span><\/a><\/span>");f=t.find(".zSort a");e=n.url;f.click(function(){var u=f.index(this),o,i;zsi.table.sort.colNo=r[u];o=this.text;$(".sPane").html(p);i=$(this).attr("class");typeof i===ud?(f.removeAttr("class"),$(this).addClass("asc"),$(this).find(".sPane").html(c)):i.indexOf("asc")>-1?($(this).removeClass("asc"),$(this).addClass("desc"),$(this).find(".sPane").html(y),zsi.table.sort.orderNo=1):($(this).removeClass("desc"),$(this).addClass("asc"),$(this).find(".sPane").html(c),zsi.table.sort.orderNo=0);zsi.table.__sortParameters="@col_no="+zsi.table.sort.colNo+",@order_no="+zsi.table.sort.orderNo;n.url=(e.indexOf("@")<0?e+" ":e+",")+zsi.table.__sortParameters+(zsi.table.__pageParameters===""?"":","+zsi.table.__pageParameters);t.loadData(n)})}var o=t,b=0,l=function(t){var r="",i,u,f;for(r+="<tr rowObj class='"+zsi.getOddEven()+"'>",i=0;i<n.td_body.length;i++){u="";typeof n.td_properties!==ud&&typeof n.td_properties[i]!==ud&&(u=n.td_properties[i]);var e="",h="",c="",l="";t&&(t.td={});n.td_body[i]?e=n.td_body[i](t):console.log("%cArray item is not a function under td_body[]","color:red;");t&&(h=typeof t.td.attr===ud?"":t.td.attr,c=typeof t.td.style===ud?"":style=' style="'+t.td.style+'" ',l=typeof t.td.class===ud?"":style=' class="'+t.td.class+'" ');r+="<td "+u+h+c+l+" >"+e+"<\/td>"}if(r+="<\/tr>",o.append(r),f=$("tr[rowObj]"),f.removeAttr("rowObj"),s)n.onEachComplete(f,t)};if(typeof n.isNew!==ud&&n.isNew==!0&&o.clearGrid(),n.url||n.data){if(o.find("thead").length>0&&o.clearGrid(),i={dataType:"json",cache:!1,success:function(i){if(b=i.rows.length,typeof n.td_body!==ud&&$.each(i.rows,function(){l(this)}),t.find("#recordsNum").html(b),(typeof zsi.page.__pageNo===ud||zsi.page.__pageNo===null)&&(zsi.page.__pageNo=1,zsi.__setPageCtrl(n,n.url,i,t)),zsi.__getTableObject(t).isInitiated=!0,t.addClickHighlight(),n.onComplete)n.onComplete(i)}},typeof n.data!==ud){if(typeof zsi.config.getDataURL===ud){alert("zsi.config.getDataURL is not defined in AppStart JS.");return}i.url=zsi.config.getDataURL;i.data=JSON.stringify(n.data);i.type="POST"}else i.url=n.url;t.bind("refresh",function(){zsi.tmr&&clearTimeout(zsi.tmr);zsi.tmr=setTimeout(function(){t.loadData(n)},1)});$.ajax(i)}else if(typeof n.rows!==ud){if(typeof n.td_body!==ud&&$.each(n.rows,function(){l(this)}),n.onComplete)n.onComplete(data);t.addClickHighlight()}else{for(typeof n.blankRowsLimit===ud&&(n.blankRowsLimit=5),a=0;a<n.blankRowsLimit;a++)l();typeof n.onEachComplete===ud&&n.onComplete&&n.onComplete();t.addClickHighlight()}};$.fn.loadMonths=function(){var t=this[0],i,n,r;for(t.add(new Option(" ",""),null),i=["January","February","March","April","May","June","July","August","September","October","November","December"],n=0;n<12;n++)r=new Option(i[n],n+1),t.add(r,null)};$.fn.serializeExclude=function(n){var i=this.serializeArray(),t="";return $.each(i,function(i,r){$.inArray(r.name.toLowerCase(),n)==-1&&(t+=t==""?r.name+"="+r.value:"&"+r.name+"="+r.value)}),t};$.fn.setEventOnTRClickForSelection=function(){this.find("tbody  > tr > td:not(:nth-child(1))").each(function(){var t=this.parentNode,n=$(t).css("cursor","pointer").find("input[type='radio'],input[type='checkbox']");this.onclick=function(){n.attr("type")==="checkbox"?n.prop("checked",!n.prop("checked")):n.prop("checked",!0);n.change()}})};$.fn.setCheckEvent=function(n){var i=this,t,r;if(i.length===0){console.log(i.selector+" not found.");return}t=typeof n!==ud?$(n):this.parent().parent().parent().parent().find("input[name='cb']");this.prop("checked",!1);i.change(function(){this.checked?t.prop("checked",!0).change():t.prop("checked",!1).change()});t.length>0&&(r=function(){var n=0;t.each(function(){this.checked||n++});n===0&&i.prop("checked",!0)},t.change(function(){this.checked===!1?i.prop("checked",!1):r()}),r())};$.fn.setCloseModalConfirm=function(){var n=$._data(this.get(0),"events");if(typeof n===ud||typeof n.hide===ud)this.on("hide.bs.modal",function(n){return n.target.tagName.toUpperCase()!=="INPUT"&&confirm("You are about to close this window. Continue?")?!0:!1})};$.fn.setIdIfChecked=function(n,t){$(this).find("input[name='cb']").change(function(){var r=this.parentNode,i=$(r).find("#"+t);this.checked?i.val(n):i.val("")})};$.fn.setUniqueOptions=function(){function r(){var n=f();e(n)}var n=[],t=this,u=$(t).children("option"),i=function(n,t){for(var r=!1,i=0;i<t.length;i++)if(t[i].value==n.value){r=!0;break}r===!1&&t.push({value:n.value,text:n.text})},f=function(){return selectedData=[],t.each(function(){this.value!==""&&i({value:this.value,text:this.options[this.selectedIndex].text},selectedData)}),selectedData},e=function(r){for(var e=[],o,f,u=0;u<n.length;u++){for(o=!1,f=0;f<r.length;f++)if(n[u].value===r[f].value){o=!0;break}o===!1&&i(n[u],e)}t.each(function(){var n=this,t;this.value===""?($(this).clearSelect(),this.add(new Option("",""),null),$.each(e,function(){var t=new Option(unescape(this.text),this.value);n.add(t,null)})):(t={value:this.value,text:this.options[this.selectedIndex].text},$(this).clearSelect(),n.add(new Option("",""),null),n.add(new Option(t.text,t.value),null),$.each(e,function(){var t=new Option(unescape(this.text),this.value);n.add(t,null)}),$(this).val(t.value))})};return u.each(function(){this.value!==""&&n.push({value:this.value,text:this.innerHTML})}),this.change(function(){r()}),r(),this};$.fn.showAlert=function(n){var t=this,i=1500;t.show();isUD(n)||(n.top&&t.css({left:n.left,top:n.top}),n.center&&t.center(),n.time&&(i=n.time));setTimeout(function(){t.hide("slow");isUD(n.onHide)||n.onHide()},i)};$.fn.showPopup=function(n){var t=typeof n.id!==ud?n.id:"popup",i="#"+t;return this.find(i).remove(),this.append('<div id="'+t+'" class="zPopup overlay"><div class="panel"><div class="header"><h2>'+(n.title?n.title:"")+'<\/h2><a class="close" href="javascript:void(0);" id="close">&times;<\/a><\/div><div class="content"><div class="body">'+n.body+"<\/div><\/div><\/div><\/div>"),$p=this.find(i),$p.css({visibility:"visible",opacity:1,"z-index":zsi.getHighestZindex()+1}),$p.find("#close").click(function(){$p.remove();typeof n.onClose!==ud&&n.onClose()}),this};$.fn.toJSON=function(n){var t,s,u,r,l,h,c,o;typeof n===ud&&(n={});var a=function(n,t){return typeof n.optionalItems!==ud&&n.optionalItems.indexOf(t)!==-1?!0:!1},v=function(n){var t=[];alert("insufficient parameters.");$.each(n,function(){t.isExists({keyName:"name",value:this.name})||t.push({name:this.name})});console.log("parameters found: "+t.length);$.each(t,function(){var t=n.findIndexes({keyName:"name",value:this.name});console.log(this.name+":"+t.length)})},i=this.find("input, textarea, select").not(":checkbox").not(typeof n.notInclude!==ud?n.notInclude:"").serializeArray(),f=[],e=[];for(t=0;t<i.length;t++)e.indexOf(i[t].name)==-1&&e.push(i[t].name);for(t=0;t<i.length;t++){for(s={},u=[],r=0;r<e.length;r++)l=i[t+r],typeof l===ud&&v(i),h=i[t+r].name,s[h]=i[t+r].value||null,a(n,h)||u.push(i[t+r].value==="");for(c=0,o=0;o<u.length;o++)u[o]&&c++;c!==u.length&&f.push(s);t=t+(e.length-1)}return typeof n.procedure!==ud&&(f={procedure:n.procedure,rows:f}),f};$.fn.toJSON2=function(n){var r,u,e,o,i,f,s;typeof n===ud&&(n={});var h=function(n,t){return typeof n.optionalItems!==ud&&n.optionalItems.indexOf(t)!==-1?!0:!1},t=[],c=this;if($.each(this.find(".left .zRow"),function(i){var u=$(this),f=c.find(".right .zRow:eq("+i+")"),e=u.find("input, textarea, select").not(":checkbox").not(typeof n.notInclude!==ud?n.notInclude:"").serializeArray(),o=f.find("input, textarea, select").not(":checkbox").not(typeof n.notInclude!==ud?n.notInclude:"").serializeArray(),r={};$.each(e,function(){r[this.name]=this.value===""?null:this.value});$.each(o,function(){r[this.name]=this.value===""?null:this.value});Object.keys(r).length>0&&t.push(r)}),r=Object.keys(t[0]),u=Object.keys(t[t.length-1]),r.length!==u.length){for(e=[],o=[],console.log("Count Properties( Upper Bound Rows = "+r.length+" : Lower Bound Rows = "+u.length+")"),i=0;i<u.length;i++)r.indexOf(u[i])<0&&o.push(u[i]);for(i=0;i<r.length;i++)u.indexOf(r[i])<0&&e.push(r[i]);o.length>0&&console.log({notExistInRows:o});e.length>0&&console.log({notExistInBlankRows:e})}return f=Object.keys(t[0]),s=[],$.each(t,function(){for(var i=this,r=0,t=0;t<f.length;t++)h(n,f[t])||(i[f[t]]===null||i[f[t]]==="")&&(r+=1);r!==f.length-(typeof n.optionalItems!==ud?n.optionalItems.length:0)&&s.push(this)}),t=s,typeof n.procedure!==ud&&(t={procedure:n.procedure,rows:t}),typeof n.parentId!==ud&&(t.parentId=n.parentId),t}},__setPageCtrl:function(n,t,i,r){for(var e=i.returnValue,o="",f,s,u=1;u<=e;u++)o+="<option value='"+u+"'>"+u+"<\/option>";f="<div class='pagestatus'>Number of records in a current page : <i id='recordsNum'> "+i.rows.length+" <\/i><\/div>";f+="<div class='pagectrl'><label id='page'> Page <\/label> <select id='pageNo'>"+o+"<\/select>";f+="<label id='of'> of "+e+" <\/label><\/div>";r.find(".pageholder").html(f);s=r.find(".pagectrl #pageNo");s.change(function(){zsi.table.__pageParameters="@pno="+this.value;n.url=t+(t.indexOf("@")>-1?",":"")+(zsi.table.__sortParameters===""?"":zsi.table.__sortParameters+",")+zsi.table.__pageParameters;r.loadData(n)})},__setPrototypes:function(){String.prototype.isValidDate=function(){return isValidDate(this)};String.prototype.toShortDate=function(){if(!isValidDate(this))return"";var i=new Date(Date.parse(this)),n=i.getMonth()+1+"",t=i.getDate()+"";return n=n.length==1?"0"+n:n,t=t.length==1?"0"+t:t,n+"/"+t+"/"+i.getFullYear()};String.prototype.toShortDateTime=function(){var r;if(!isValidDate(this))return"";var t=new Date(Date.parse(this)),n=t.getHours(),i=t.getMinutes(),u=n>=12?"PM":"AM";return n=n%12,n=n?n:12,i=i<10?"0"+i:i,r=n+":"+i+" "+u,t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()+" "+r};String.prototype.toDateFormat=function(){return this.toShortDate()};String.prototype.toMDateTimeFormat=function(){var i=Date.parse(this),n,t;return isNaN(i)!==!1?"":(n=new Date(i),t=function(n){return n>9?""+n:"0"+n},this.toShortDate()+" "+t(n.getHours())+":"+t(n.getMinutes())+":"+t(n.getSeconds()))};String.prototype.toMoney=function(){var n="";return isNaN(this)===!1&&(n=parseFloat(this).toMoney()),n};String.prototype.toJSON=function(){var n=null;return this!==""&&(n=$.parseJSON(this)),n};String.prototype.nl2br=function(){return this.replace(/\n/g,"<br />")};Array.prototype.findIndexes=function(n){var t=[];return $.each(this,function(i){if(this[n.keyName]===n.value)return t.push(i),!0}),t};Array.prototype.isExists=function(n){var t=!1;return $.each(this,function(){if(this[n.keyName]===n.value)return t=!0,!1}),t};Array.prototype.createNewCopy=function(){return $.extend(!0,{},this)};Array.prototype.removeAttr=function(n){$.each(this,function(){delete this[n]})};Number.prototype.toMoney=function(){return this.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}},__setTableObjectsHistory:function(n,t){var r=zsi.__tableObjectsHistory,u=!1,i;if(n.length!==0){for(i=0;i<r.length;i++)if(r[i].tableName.toLowerCase()===n.attr("id").toLowerCase()){u=!0;break}u||(t.isInitiated=!1,r.push({tableName:n.attr("id"),value:t}))}else console.log("table not defined. url:"+t.url)},__tableObjectsHistory:[],bs:{ctrl:function(n){var u="input",l=typeof n.id!==ud?n.id:n.name,e=' name="'+n.name+'" id="'+l+'"',r=' type="text"',o=' class="form-control '+(typeof n.class!==ud?n.class:"")+'" ',s="",i="",f="",h="",c="",a=typeof n.style===ud?"":' style="'+n.style+'"',v=function(n){var i="N",t="",r='class="form-control"';return typeof n.class!==ud&&(r='class="'+n.class+'"'),t+='<select name="'+n.name+'" id="'+n.name+'" '+r+">",typeof n.value!==ud&&(i=n.value),typeof n.mandatory!==ud&&n.mandatory.toLowerCase()=="n"&&(t+='<option value=""><\/option>'),t+="<option "+(i=="Y"?"selected":"")+' value="Y">Yes<\/option>',t+="<option "+(i=="N"||i==""?"selected":"")+' value="N">No<\/option>',t+"<\/select>"},t;if(typeof n.value!==ud&&(i=' value="'+n.value+'"'),typeof n.checked!==ud&&n.checked&&(c=" checked "),typeof n.type!==ud){if(t=n.type.toLowerCase(),t=="yesno")return v(n);if(t=="ddl")return"<input type='hidden' "+e+" "+i+"><span id='text'>"+n.displayText+"<\/span> <div class='zDdlBtn' ><span class='caret'><\/span><\/div>";r=' type="'+n.type+'"';t=="hidden"&&(o="");t=="hidden"||t=="input"||t=="checkbox"||t=="password"||t=="email"||t=="radio"||(u=t);t=="select"||t=="textarea"?(r="",s="<\/"+u+">",t=="select"&&(f="<option><\/option>",typeof n.value!==ud&&(i="",h=n.value!==""?" selectedvalue='"+n.value+"'":"")),n.type=="textarea"&&typeof n.value!==ud&&(i="",f=n.value)):t=="input"&&(r=' type="text"')}return"<"+u+e+r+c+o+i+h+a+">"+f+s},button:function(n){var t="",i=' class="btn btn-primary btn-sm"',r=' type="button"',u="",f,e;typeof n.type!==ud&&(r=' type="'+n.type+'"');typeof n.class!==ud&&(i=' class="'+n.class+'"');typeof n.onclick!==ud&&(u=' onclick="'+n.onclick+'"');switch(n.name.toLowerCase()){case"search":t="search";break;case"add":case"new":t="plus-sign";break;case"delete":t="trash";break;case"close":t="off";break;case"save":t="floppy-disk";break;case"reset":t="retweet";break;case"login":t="log-in"}return f='<span class="glyphicon glyphicon-'+t+'"><\/span>',e='<button id="btn'+n.name+'" '+i+r+u+">"+f+" "+n.text+"<\/button>",e}},calendar:{},config:{},control:{},form:{__checkMandatory:function(n,t,i){var o=n.names,c=t.titles,e=[],s,h,f,r,u;for(zsi.form.__objMandatoryGroupIndexValues[i]="N",f=0;f<o.length;f++)if(r=document.getElementsByName(o[f]),r.length>1)for(h=0,u=0;u<r.length;u++)r[u].type!="hidden"&&(s||(s=r[u]),$.trim(r[u].value)!==""&&(e[h]=u,h++,zsi.form.__objMandatoryGroupIndexValues[i]="Y"));else if(r[0]&&(r[0].value===ud||$.trim(r[0].value)===""))return r[0].focus(),alert("Enter "+c[f]+"."),!1;if(n.type=="M"){if(n.required_one&&n.required_one=="Y"&&e.length===0)return alert("Please enter at least 1 record."),s&&s.focus(),!1;for(f=0;f<o.length;f++)if(r=document.getElementsByName(o[f]),r.length>1)for(u=0;u<e.length;u++)if(r[e[u]].type!="hidden"&&$.trim(r[e[u]].value)==="")return r[e[u]].focus(),alert("Enter "+c[f]+"."),!1}return!0},__objMandatory:null,__objMandatoryGroupIndexValues:[],checkNumber:function(n){var t,r,u,f="";for(i=1;i<arguments.length;i++)f+=arguments[i];if(window.event)t=n.keyCode;else if(n.which){if((t=n.which,t==8)||String.charCodeAt(t)=="91")return!0}else return!0;return(r=String.fromCharCode(t),f.indexOf(r)!=-1)?!0:(u=/\d/,u.test(r))},isValidNumberFormat:function(n){var t=n.value,i;if(t!=="")return i=/(?=.)^\$?(([1-9][0-9]{0,2}(,[0-9]{3})*)|[0-9]+)?(\.[0-9]{1,4})?$/.test(t),i?!0:!1},checkNumberFormat:function(n){zsi.form.isValidNumberFormat(n)||(alert("Please enter a valid number format."),setTimeout(function(){n.focus()},0))},checkMandatory:function(){var t=zsi.form.__objMandatory,n,i;if(typeof t===ud)return!0;for(n=0;n<t.groupNames.length;n++)if(!zsi.form.__checkMandatory(t.groupNames[n],t.groupTitles[n],n))return!1;if(t.required_one_indexes){var r=t.required_one_indexes,u=zsi.form.__objMandatoryGroupIndexValues,f=0;for(n=0;n<r.length;n++)for(i=0;i<u.length;i++)r[n]==i&&u[i]=="N"&&f++;if(r.length==f)return alert("Please enter at least one record."),!1}return!0},markMandatory:function(n){function r(n){jo=$(n);typeof jo.val()===ud||jo.val()===""?jo.addClass("mandatory"):jo.removeClass("mandatory")}var i,u,o,t,e,f;for($("input,select,textarea").not("[type=hidden]").each(function(){}),zsi.form.__objMandatory=n,t=0;t<n.groupNames.length;t++)if(n.groupNames[t].names.length!=n.groupTitles[t].titles.length)return alert("Error!, parameters are not equal."),!1;for(u=0;u<n.groupNames.length;u++)for(i=n.groupNames[u].names,o="solid 1px #F3961C",t=0;t<i.length;t++)if(e=document.getElementsByName(i[t]),e.length==1){f=$("#"+i[t]);r(f[0]);f.on("change keyup blur",function(){r(this)})}else $("*[name='"+i[t]+"'][type!=hidden]").each(function(){r(this);$(this).on("change keyup blur",function(){$(this).val()!=""?$("*[name='"+this.name+"'][type!=hidden]").each(function(){r(this)}):$("*[name='"+this.name+"'][type!=hidden]").each(function(){r(this)})})})},checkDate:function(n,t){for(var f=" must be in [mm/dd/yyyy] format.",i,e,r,u=0;u<n.length;u++)if(i=document.getElementsByName(n[u]),i.length>1){for(e=0,r=0;r<i.length;r++)if(i[r].type!="hidden"&&$.trim(i[r].value)!=""&&isValidDate(i[r].value)!=!0)return alert(t[u]+f),i[r].focus(),!1}else if(i[0]&&$.trim(i[0].value)!=""&&isValidDate(i[0].value)!=!0)return alert(t[u]+f),i[0].focus(),!1;return!0},setCriteria:function(n,t,i){var r=$(n);return r.prop("tagName")=="SELECT"?r.find(":selected").text()&&(i!=""&&(i+=", "),i+=t+": "+r.find(":selected").text()):r.val()&&(i!=""&&(i+=", "),i+=t+":"+r.val()),i},showAlert:function(n){var t=$("."+n);t.center();t.show();setTimeout(function(){t.hide("slow")},500)},displayLOV:function(n){var i=[],t;typeof n.show_checkbox===ud&&(n.show_checkbox=!0);i.push(function(t){var i=typeof t=="ud"?!0:!1,r='<input name="p_'+n.params[0]+'[]"  type="hidden"  value="'+(i!==!0?t[n.params[0]]:"")+'"><input name="p_'+n.params[1]+'[]" type="hidden" value="'+(i!==!0?t[n.params[1]]:"")+'" ><input name="p_isCheck[]" type="hidden" value="'+(i!==!0?t[n.params[0]]?1:0:"")+'" >';return n.show_checkbox==!0&&(r+='<input name="p_cb[]" onclick="clickCB(this);" class="" type="checkbox" '+(i!==!0?t[n.params[0]]?"checked":"":"")+">"),r});i=i.concat(n.column_data);t={table:n.table,td_body:i};typeof n.url!==ud&&(t.url=n.url);typeof n.limit!==ud&&(t.limit=n.limit);typeof n.onComplete!==ud&&(t.onComplete=n.onComplete);typeof n.isNew!==ud&&(t.isNew=n.isNew);typeof n.td_properties!==ud&&(t.td_properties=n.td_properties);$(t.table).loadData(t);clickCB=function(n){var t=n.parentNode;n.checked==!1?$(t).children("input[name='p_isCheck[]']").val(0):$(t).children("input[name='p_isCheck[]']").val(1)}},deleteData:function(n){for(var t="",r=zsi.table.getCheckBoxesValues("input[name='cb']:checked"),i=0;i<r.length;i++)t!==""&&(t+="/"),t+=r[i];t!==""&&confirm("Are you sure you want to delete selected items?")&&$.post(base_url+"sql/exec?p=deleteData @pkey_ids='"+t+"',@table_code='"+n.code+"'",function(t){n.onComplete(t)}).fail(function(){alert("Sorry, the curent transaction is not successfull.")})}},getHighestZindex:function(){var t="*",i=arguments,n;return typeof i[0]!==ud&&(t=i[0]),n=-999,$(t).each(function(){var t=parseInt($(this).css("z-index"),10);t&&n<t&&(n=t)}),n},getOddEven:function(){var n="odd";return typeof zsi.__oe===ud&&(zsi.__oe=n),zsi.__oe=zsi.__oe===n?"even":n,zsi.__oe},getTableLayoutsObjects:function(n,t){var i=function(n){for(var r={},u=Object.keys(n),i,t=0;t<u.length;t++)i=u[t],n[i]!==""&&(r[i]=n[i]);return r};$.get(base_url+"sql/proc?p=table_layout_sel @code='"+n+"'",function(n){if(n.rows.length>0){var u=n.rows[0],r=i(u);r.onComplete=new Function("d",r.onComplete);$.get(base_url+"sql/proc?p=table_layout_cols_sel @tableLayoutId='"+r.tableLayoutId+"'",function(n){if(n.rows.length>0){var u=[];$.each(n.rows,function(){this.onRender&&(this.onRender=new Function("d",this.onRender));u.push(i(this))});r.dataRows=u;t(r)}else t(null)})}})},getUrlParamValue:function(n){var f=window.location.href,e,o,i,u,r,t;if(n=n.toLowerCase(),e=f.indexOf("?"),e>-1)if(o=f.split("?"),i=o[1],i.indexOf("&")>-1){for(u=i.split("&"),r=0;r<u.length;r++)if(t=u[r].split("="),t[0].toLowerCase()==n.toLowerCase())return t[1]}else if(t=i.split("="),t[0].toLowerCase()==n.toLowerCase())return t[1];return""},init:function(n){zsi.config=n;zsi.__monitorAjaxResponse()},initDatePicker:function(){var n=$("input[id*=date]").not("input[type='hidden']");if(n.attr("placeholder","mm/dd/yyyy"),n.keyup(function(){(this.value.length==2||this.value.length==5)&&(this.value+="/")}),n.length>0)n.datepicker({format:"mm/dd/yyyy",autoclose:!0,daysOfWeekDisabled:[0,6]}).on("show",function(){var n=$(".datepicker");n.css("z-index",zsi.getHighestZindex()+1)})},json:{groupByColumnIndex:function(n,t){var i={},r=[];return $.each(n.rows,function(){var n=this.data[t];$.inArray(n,r)==-1&&(r.push(n),i[n]=[]);i[n].push(this.data)}),i}},page:{__object:null,__PageNo:null,__tURL:null,clearPaging:function(){zsi.page.__pageNo=null},DisplayRecordPage:function(n,t,i){var f=25,e=Math.ceil(t/f),o=f*(n-1)+1,s=parseInt(o)+parseInt(i)-1,u=$("select[name=p_page_no]"),r;for(u.clearSelect(),r=0;r<e;r++)n==r+1?u.append("<option selected value='"+(r+1)+"'>"+(r+1)+"<\/option>"):u.append("<option value='"+(r+1)+"'>"+(r+1)+"<\/option>");$("#of").html(" of "+e);$(".pagestatus").html("Showing records from <i>"+o+"<\/i> to <i>"+s+"<\/i>")}},url:{getQueryValue:function(n,t){var u,f,r,i;if(n=n.toString().toLowerCase(),t=t.toLowerCase(),u=n.indexOf("?"),u>-1&&(n=n.substr(u+1)),n.indexOf("&")>-1){for(f=n.split("&"),r=0;r<f.length;r++)if(i=f[r].split("="),i[0]==t)return i[1]}else if(i=n.split("="),i[0]==t)return i[1];return""},removeQueryItem:function(n,t){var f,i,u,r,e;if(n=n.toString().toLowerCase(),t=t+"".toLowerCase(),f=n.indexOf("?"),f>-1&&(n=n.substr(f+1)),i="",n.indexOf("&")>-1)for(u=n.split("&"),r=0;r<u.length;r++)e=u[r].split("=")[0],e!=t&&(i&&(i+="&"),i+=u[r]);return i}},table:{__pageParameters:"",__sortParameters:"",getCheckBoxesValues:function(){var t=arguments,r=null,e="input[type=hidden]",i,u,f,n,o,s;switch(t.length){case 1:u=[];f=0;i=t[0];$(i).each(function(){u[f]=$(this.parentNode).children(e).val();f++});r=u;break;case 3:n="";i=t[0];o=t[1];s=t[2];$(i).each(function(){var t=$(this.parentNode).children(e).val();t==ud&&(t=this.value);n!==""&&(n=n+s);n=n+o+t});r=n}return r},setCheckBox:function(n,t){var r="input[type=hidden]",i=$(n.parentNode).children(r);if(i.attr("type")!="hidden"){alert(r+" not found");return}n.checked?i.val(t):i.val("")},sort:{colNo:1,orderNo:0}},tmr:null,toDate:function(n){return n},toggleExtraRow:function(n){var i="#childPanel",r=$(n.object).find("span"),t=$(i+n.parentId),u="loaded",f;if(t.toggle(500,function(){var n=t.is(":visible");n?r.removeClass("glyphicon glyphicon-collapse-down").addClass("glyphicon glyphicon-collapse-up"):r.removeClass("glyphicon glyphicon-collapse-up").addClass("glyphicon glyphicon-collapse-down")}),f=t.hasClass(u),!f&&(t.addClass(u),!isUD(n.onLoad)))n.onLoad($(i+n.parentId+" .zGrid"))},setValIfNull:function(n,t,i){var r=typeof i!==ud?i:"";return n?typeof n[t]!==ud?n[t]:r:r},ShowHideProgressWindow:function(n){var t=$(".progressWindow");n?(t.centerWidth(),t.css("display","block")):t.hide()},ShowErrorWindow:function(){var n=$(".errorWindow");n.centerWidth();n.css("display","block");n.css("z-index",zsi.getHighestZindex()+1);setTimeout(function(){n.hide("slow")},5e3)},initInputTypesAndFormats:function(){$(".numeric").keypress(function(n){return zsi.form.checkNumber(n,".,")});$(".format-decimal").blur(function(){var n=this;zsi.form.checkNumberFormat(this)})},strExist:function(n,t){var i=!1,r=n.toLowerCase().indexOf(t.toLowerCase());return r>-1&&(i=!0),i}},isValidDate=function(n){var t=Date.parse(n);return isNaN(t)===!1};zsi.__setPrototypes();zsi.__setExtendedJqFunctions();$(document).ready(function(){zsi.initDatePicker();zsi.__initTabNavigation();zsi.__initFormAdjust();zsi.initInputTypesAndFormats()})